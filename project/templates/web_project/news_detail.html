{% extends "base/base.html" %}
{% load static %}
{% load link_filter %}

{% block body_style %}
    background-image: url({% static 'images/author.jpg' %}); background-size: cover; background-position: center;
    background-repeat: no-repeat;
{% endblock %}

{% block title %}{{ news.title }} — Новости{% endblock %}

{% block content %}
    <div class="container py-5">
        <h1 class="display-5 fw-bold mb-3">{{ news.title }}</h1>

        <p class="text-muted mb-4">
            <i class="bi bi-person-circle me-2"></i>
            <strong>{{ news.author }}</strong> ·
            <i class="bi bi-clock-history me-2"></i>
            {{ news.created_at|date:"d M Y в H:i" }}
        </p>

        {% if news.image %}
            <div class="mb-4">
                <img id="image-preview" src="{{ news.image.url }}" class="img-fluid rounded shadow-sm"
                     alt="{{ news.title }}">
            </div>
        {% endif %}

        <div class="lead fs-5 mb-5" id="content-text">
            {{ news.content|make_links|linebreaks|safe }}
        </div>

        <a href="{% url 'blog' %}" class="btn btn-outline-primary btn-lg">
            <i class="bi bi-arrow-left me-2"></i>Вернуться к списку новостей
        </a>

        {% if user.is_staff or user.is_superuser %}
            <a href="{% url 'edit_news' news.id %}" class="btn btn-lg btn-outline-warning">
                Редактировать
            </a>
        {% endif %}

    </div>
{% endblock %}
